"use strict";(self.webpackChunkCityInfo=self.webpackChunkCityInfo||[]).push([[673],{2673:(h,d,c)=>{c.d(d,{d:()=>ht});var p=c(7579),g=c(2829),x=c(6668),t=c(8274),b=c(4937),v=c(6209),f=c(3250),Z=c(7725),u=c(3693),T=c(2684),r=c(6895),y=c(4006),w=c(3544),C=c(8027);function D(e,a){if(1&e&&(t.TgZ(0,"table",1)(1,"tr"),t._UZ(2,"td",2),t.qZA(),t.TgZ(3,"tr")(4,"td")(5,"table",3)(6,"tr")(7,"td")(8,"table",4)(9,"tbody")(10,"tr")(11,"td")(12,"table",5)(13,"tbody"),t._UZ(14,"tr"),t.TgZ(15,"tr")(16,"td")(17,"table",6)(18,"tbody")(19,"tr")(20,"td")(21,"table",7)(22,"tbody")(23,"tr")(24,"td",8)(25,"strong"),t._uU(26),t.qZA()()(),t.TgZ(27,"tr"),t._UZ(28,"td",9),t.qZA(),t.TgZ(29,"tr")(30,"td",10),t._uU(31),t._UZ(32,"br"),t._uU(33),t._UZ(34,"br"),t._uU(35),t._UZ(36,"br"),t._uU(37),t.qZA()()()(),t.TgZ(38,"table",11)(39,"tbody")(40,"tr",12),t._UZ(41,"td",2),t.qZA(),t.TgZ(42,"tr")(43,"td",8)(44,"strong"),t._uU(45),t.qZA()()(),t.TgZ(46,"tr"),t._UZ(47,"td",9),t.qZA(),t.TgZ(48,"tr")(49,"td",10),t._uU(50),t._UZ(51,"br"),t._uU(52),t._UZ(53,"br"),t._uU(54),t.qZA()()()()()()()()()()()()(),t.TgZ(55,"td")(56,"table",13)(57,"tbody")(58,"tr",12),t._UZ(59,"td",2),t.qZA(),t.TgZ(60,"tr"),t._UZ(61,"td",14),t.qZA(),t.TgZ(62,"tr")(63,"td",15),t._uU(64," Invoice "),t.qZA()(),t._UZ(65,"tr"),t.TgZ(66,"tr",16),t._UZ(67,"td",17),t.qZA(),t.TgZ(68,"tr",12),t._UZ(69,"td",2),t.qZA(),t.TgZ(70,"tr")(71,"td",18)(72,"small"),t._uU(73,"ORDER"),t.qZA(),t._uU(74),t._UZ(75,"br"),t.qZA()()()()()()()()()()()()()()),2&e){const i=t.oxw();t.xp6(26),t.Oqu(i.language.invoiceCompanyInformation),t.xp6(5),t.hij(" ",i.language.invoiceCompanyName,""),t.xp6(2),t.hij(" ",i.language.invoiceCompanyAddress," "),t.xp6(2),t.AsE(" ",i.language.invoiceCompanyZipCode," ",i.language.invoiceCompanyCity," "),t.xp6(2),t.AsE(" ",i.language.invoiceCompanyUID," ",i.language.invoiceCompanyUIDNumber," "),t.xp6(8),t.Oqu(i.language.invoiceBuyer),t.xp6(5),t.hij(" ",i.data.firstname," "),t.xp6(2),t.hij(" ",i.data.email," "),t.xp6(2),t.hij(" ",i.data.phone," "),t.xp6(20),t.hij(" #",i.data.id,"")}}function G(e,a){if(1&e&&(t.TgZ(0,"table",1)(1,"tbody")(2,"tr")(3,"td")(4,"table",5)(5,"tbody"),t._UZ(6,"tr"),t.TgZ(7,"tr",16),t._UZ(8,"td",19),t.qZA(),t.TgZ(9,"tr",12),t._UZ(10,"td",20),t.qZA(),t.TgZ(11,"tr")(12,"td")(13,"table",4)(14,"tbody")(15,"tr")(16,"th",21),t._uU(17),t.qZA(),t.TgZ(18,"th",21),t._uU(19),t.qZA(),t.TgZ(20,"th",22),t._uU(21),t.qZA(),t.TgZ(22,"th",23),t._uU(23),t.qZA(),t.TgZ(24,"th",23),t._uU(25),t.qZA(),t.TgZ(26,"th",23),t._uU(27),t.qZA(),t.TgZ(28,"th",23),t._uU(29),t.qZA(),t.TgZ(30,"th",23),t._uU(31),t.qZA()(),t.TgZ(32,"tr"),t._UZ(33,"td",24),t.qZA(),t.TgZ(34,"tr"),t._UZ(35,"td",25),t.qZA(),t.TgZ(36,"tr")(37,"td",26),t._uU(38),t.qZA(),t.TgZ(39,"td",27),t._uU(40),t.ALo(41,"date"),t.qZA(),t.TgZ(42,"td",27),t._uU(43),t.ALo(44,"date"),t.qZA(),t.TgZ(45,"td",28),t._uU(46),t.qZA(),t.TgZ(47,"td",28),t._uU(48),t.qZA(),t.TgZ(49,"td",28),t._uU(50),t.qZA(),t.TgZ(51,"td",28),t._uU(52),t.qZA(),t.TgZ(53,"td",28),t._uU(54),t.qZA()(),t.TgZ(55,"tr"),t._UZ(56,"td",29),t.qZA()()()()(),t.TgZ(57,"tr"),t._UZ(58,"td",2),t.qZA()()()()()()()),2&e){const i=t.oxw();t.xp6(17),t.hij(" ",i.language.ads_name," "),t.xp6(2),t.hij(" ",i.language.startDate," "),t.xp6(2),t.hij(" ",i.language.expiredDate," "),t.xp6(2),t.hij(" ",i.language.position," "),t.xp6(2),t.hij(" ",i.language.city," "),t.xp6(2),t.hij(" ",i.language.numberOfWeeks," "),t.xp6(2),t.hij(" ",i.language.price_per_week," "),t.xp6(2),t.hij(" ",i.language.sum," "),t.xp6(7),t.hij(" ",i.data.ads_name," "),t.xp6(2),t.hij(" ",t.xi3(41,16,i.data.start_date,"dd.MM.yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(44,19,i.data.expired_date,"dd.MM.yyyy"),""),t.xp6(3),t.hij(" ",i.data.position,""),t.xp6(2),t.hij(" ",i.data.city_name,""),t.xp6(2),t.hij(" ",i.data.number_of_weeks,""),t.xp6(2),t.hij(" ",i.data.price,""),t.xp6(2),t.hij(" ",i.getSum(),"")}}let O=(()=>{class e{constructor(i){this.helpService=i}ngOnInit(){this.language=this.helpService.getLanguage()}getSum(){return(this.data.number_of_weeks*this.data.price).toFixed(2)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(f.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-invoice"]],inputs:{data:"data"},decls:2,vars:2,consts:[["width","100%","border","0","cellpadding","0","cellspacing","0","align","center","class","fullTable","bgcolor","#e1e1e1",4,"ngIf"],["width","100%","border","0","cellpadding","0","cellspacing","0","align","center","bgcolor","#e1e1e1",1,"fullTable"],["height","20"],["width","100%","border","0","cellpadding","0","cellspacing","0","align","center","bgcolor","#ffffff",1,"fullTable",2,"border-radius","10px 10px 0 0"],["width","100%","border","0","cellpadding","0","cellspacing","0","align","center",1,"fullPadding"],["width","100%","border","0","cellpadding","0","cellspacing","0","align","center","bgcolor","#ffffff",1,"fullTable"],["width","100%","border","0","cellpadding","0","cellspacing","0","align","center",1,"fullPadding","col-md-12"],["width","220","border","0","cellpadding","0","cellspacing","0","align","left",1,"col-md-6"],[2,"font-size","14px","font-family","'Open Sans', sans-serif","color","#5b5b5b","line-height","1","vertical-align","top"],["width","100%","height","10"],[2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#5b5b5b","line-height","20px","vertical-align","top"],["width","220","border","0","cellpadding","0","cellspacing","0","align","right",1,"col-md-6"],[1,"visibleMobile"],["width","220","border","0","cellpadding","0","cellspacing","0","align","right",1,"col"],["height","5"],[2,"font-size","21px","color","#ff0000","letter-spacing","-1px","font-family","'Open Sans', sans-serif","line-height","1","vertical-align","top","text-align","right"],[1,"hiddenMobile"],["height","50"],[2,"font-size","13px","color","#5b5b5b","font-family","'Open Sans', sans-serif","line-height","18px","vertical-align","top","text-align","right"],["height","60"],["height","40"],["align","left",2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#5b5b5b","font-weight","normal","line-height","1","vertical-align","top","padding","0 10px 7px 0"],["align","center",2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#5b5b5b","font-weight","normal","line-height","1","vertical-align","top","padding","0 0 7px"],["align","right",2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#1e2b33","font-weight","normal","line-height","1","vertical-align","top","padding","0 0 7px"],["height","1","colspan","8",2,"background","#bebebe"],["height","10","colspan","8"],[1,"article",2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#ff0000","line-height","18px","vertical-align","top","padding","10px 0"],[2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#646a6e","line-height","18px","vertical-align","top","padding","10px 0"],[2,"font-size","13px","font-family","'Open Sans', sans-serif","color","#1e2b33","line-height","18px","vertical-align","top","padding","10px 0"],["height","1","colspan","8",2,"border-bottom","1px solid #e4e4e4"]],template:function(i,n){1&i&&(t.YNc(0,D,76,12,"table",0),t.YNc(1,G,59,22,"table",0)),2&i&&(t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",n.data))},dependencies:[r.O5,r.uU],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:400,700";body[_ngcontent-%COMP%]{margin:0;padding:0;background:#e1e1e1}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{-webkit-text-size-adjust:none}.ReadMsgBody[_ngcontent-%COMP%], .ExternalClass[_ngcontent-%COMP%]{width:100%;background-color:#fff}body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#e1e1e1;margin:0;padding:0;-webkit-font-smoothing:antialiased}html[_ngcontent-%COMP%]{width:100%}p[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.visibleMobile[_ngcontent-%COMP%]{display:none}.hiddenMobile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 600px){body[_ngcontent-%COMP%]{width:auto!important}table[class=fullTable][_ngcontent-%COMP%]{width:96%!important;clear:both}table[class=fullPadding][_ngcontent-%COMP%]{width:85%!important;clear:both}table[class=col][_ngcontent-%COMP%]{width:45%!important}.erase[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 420px){table[class=fullTable][_ngcontent-%COMP%]{width:100%!important;clear:both}table[class=fullPadding][_ngcontent-%COMP%]{width:85%!important;clear:both}table[class=col][_ngcontent-%COMP%]{width:100%!important;clear:both}table[class=col][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left!important}.erase[_ngcontent-%COMP%]{display:none;font-size:0;max-height:0;line-height:0;padding:0}.visibleMobile[_ngcontent-%COMP%]{display:block!important}.hiddenMobile[_ngcontent-%COMP%]{display:none!important}}table[_ngcontent-%COMP%]{background:none}']}),e})();var I=c(4841),A=c(6741),s=c(8118),S=c(9992);const M=["invoiceDialog"],j=["adDialog"],q=["grid"],U=["orderForm"],J=["editSettingsTemplate"],P=["container"];function N(e,a){1&e&&(t.TgZ(0,"div",7),t._UZ(1,"app-loader"),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"mat-icon",19),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.classIcon)}}function Y(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.label)}}function E(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit,l=t.oxw(2).$implicit,_=t.oxw(3);return t.KtG(_.openPage(l.template.link,l.template.parameters,o))}),t.YNc(1,Q,2,1,"mat-icon",18),t.YNc(2,Y,2,1,"span",1),t.qZA()}if(2&e){const i=t.oxw(4).$implicit;t.Tol(i.template.class),t.xp6(1),t.Q6J("ngIf",i.template.classIcon),t.xp6(1),t.Q6J("ngIf",i.template.label)}}function R(e,a){if(1&e&&(t.TgZ(0,"mat-icon",19),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.classIcon)}}function $(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.label)}}function F(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit,l=t.oxw(5);return t.KtG(l.previewDocument(o))}),t.YNc(1,R,2,1,"mat-icon",18),t.YNc(2,$,2,1,"span",1),t.qZA()}if(2&e){const i=t.oxw(4).$implicit;t.Tol(i.template.class),t.xp6(1),t.Q6J("ngIf",i.template.classIcon),t.xp6(1),t.Q6J("ngIf",i.template.label)}}function H(e,a){if(1&e&&(t.TgZ(0,"mat-icon",19),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.classIcon)}}function k(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.label)}}function z(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit,l=t.oxw(5);return t.KtG(l.previewInvoice(o))}),t.YNc(1,H,2,1,"mat-icon",18),t.YNc(2,k,2,1,"span",1),t.qZA()}if(2&e){const i=t.oxw(4).$implicit;t.Tol(i.template.class),t.xp6(1),t.Q6J("ngIf",i.template.classIcon),t.xp6(1),t.Q6J("ngIf",i.template.label)}}function K(e,a){if(1&e&&(t.TgZ(0,"mat-icon",19),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.classIcon)}}function B(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const i=t.oxw(5).$implicit;t.xp6(1),t.Oqu(i.template.label)}}function W(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit,l=t.oxw(5);return t.KtG(l.previewAd(o))}),t.YNc(1,K,2,1,"mat-icon",18),t.YNc(2,B,2,1,"span",1),t.qZA()}if(2&e){const i=t.oxw(4).$implicit;t.Tol(i.template.class),t.xp6(1),t.Q6J("ngIf",i.template.classIcon),t.xp6(1),t.Q6J("ngIf",i.template.label)}}function L(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,E,3,4,"button",16),t.YNc(2,F,3,4,"button",16),t.YNc(3,z,3,4,"button",16),t.YNc(4,W,3,4,"button",16),t.qZA()),2&e){const i=t.oxw().$implicit,n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","open"===n.template.action),t.xp6(1),t.Q6J("ngIf","previewDocument"===n.template.action&&"application/pdf"===i.type),t.xp6(1),t.Q6J("ngIf","previewInvoice"===n.template.action),t.xp6(1),t.Q6J("ngIf","previewAd"===n.template.action)}}function V(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"button",21),t.NdJ("select",function(o){t.CHM(i);const l=t.oxw(2).$implicit,_=t.oxw(2).$implicit,m=t.oxw(3);return t.KtG(m.clickDropDownButton(o,l,_.template))}),t.qZA()}if(2&e){const i=t.oxw(4).$implicit,n=t.oxw(3);t.s9C("content",n.language[i.template.content]?n.language[i.template.content]:i.template.content),t.Q6J("items",i.template.items)}}function X(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,V,1,2,"button",20),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",i.template.items)}}function tt(e,a){if(1&e&&(t.TgZ(0,"div")(1,"mat-icon",19),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit,n=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(o.getFileTypeIcon(i,n.template.field))}}function it(e,a){if(1&e&&t._UZ(0,"div",24),2&e){const i=t.oxw().$implicit;t.Q6J("innerHtml",i.html,t.oJD)}}function et(e,a){if(1&e&&t._UZ(0,"div",24),2&e){const i=t.oxw().$implicit;t.Q6J("innerHtml",i.html,t.oJD)}}function nt(e,a){if(1&e&&t._UZ(0,"div",24),2&e){const i=t.oxw().$implicit;t.Q6J("innerHtml",i.html,t.oJD)}}function ot(e,a){if(1&e&&t._UZ(0,"div",24),2&e){const i=t.oxw().$implicit;t.Q6J("innerHtml",i.html,t.oJD)}}function at(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,it,1,1,"div",23),t.YNc(2,et,1,1,"div",23),t.YNc(3,nt,1,1,"div",23),t.YNc(4,ot,1,1,"div",23),t.qZA()),2&e){const i=a.$implicit,n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","=="===i.operator&&n[i.field]===i.value),t.xp6(1),t.Q6J("ngIf","!="===i.operator&&n[i.field]!==i.value),t.xp6(1),t.Q6J("ngIf",">"===i.operator&&n[i.field]>i.value),t.xp6(1),t.Q6J("ngIf",">"===i.operator&&n[i.field]<i.value)}}function lt(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,at,5,4,"div",22),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",i.template.choices)}}function ct(e,a){if(1&e&&(t.YNc(0,L,5,4,"div",1),t.YNc(1,X,2,1,"div",1),t.YNc(2,tt,3,1,"div",1),t.YNc(3,lt,2,1,"div",1)),2&e){const i=t.oxw(2).$implicit;t.Q6J("ngIf","button"===i.template.type),t.xp6(1),t.Q6J("ngIf","dropdownbutton"===i.template.type),t.xp6(1),t.Q6J("ngIf","fileType"===i.template.type),t.xp6(1),t.Q6J("ngIf",i.template.choices)}}function _t(e,a){1&e&&t.YNc(0,ct,4,4,"ng-template",null,15,t.W1O)}function st(e,a){if(1&e&&(t.TgZ(0,"e-column",14),t.YNc(1,_t,2,0,null,1),t.qZA()),2&e){const i=a.$implicit,n=t.oxw(3);t.Tol(i.class),t.Q6J("type",i.type)("field",i.field)("headerText",n.language[i.title]?n.language[i.title]:n.language[i.field]?n.language[i.field]:i.title)("width",i.width)("textAlign",i.position?i.position:"center")("isPrimaryKey",i.isPrimaryKey)("editType",i.editType?i.editType:null)("allowEditing",i.allowEditing)("format",i.format)("validationRules",i.validation)("allowFiltering",!1!==i.allowFiltering),t.xp6(1),t.Q6J("ngIf",i.template)}}function rt(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"app-dynamic-forms",28,29),t.NdJ("submit",function(o){t.CHM(i);const l=t.oxw(4);return t.KtG(l.submitEmitter(o))}),t.qZA()}if(2&e){const i=t.oxw(4);t.Q6J("config",i.config)("partOfGrid",!0)}}function dt(e,a){if(1&e&&(t.TgZ(0,"div",25)(1,"div",26),t.YNc(2,rt,2,2,"app-dynamic-forms",27),t.qZA()()),2&e){const i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",i.config.config&&i.config.config.length>0)}}function pt(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"ejs-grid",10,11),t.NdJ("actionComplete",function(o){t.CHM(i);const l=t.oxw(2);return t.KtG(l.actionComplete(o))})("toolbarClick",function(o){t.CHM(i);const l=t.oxw(2);return t.KtG(l.toolbarClick(o))}),t.TgZ(2,"e-columns"),t.YNc(3,st,2,14,"e-column",12),t.qZA(),t.YNc(4,dt,3,1,"ng-template",null,13,t.W1O),t.qZA()}if(2&e){const i=t.oxw(2);t.Q6J("height",i.height)("dataSource",i.data)("editSettings",i.config.editSettings)("toolbar",i.config.toolbar)("allowSorting",i.config.sorting.enable)("sortSettings",i.config.sorting.initialSorting)("allowGrouping",i.config.grouping.enable)("allowResizing",i.config.allowResizing)("allowPaging",i.config.paging.enable)("allowExcelExport",!0)("allowPdfExport",!0)("pageSettings",i.config.paging.settings)("allowFiltering",i.config.filtering.enable)("filterSettings",i.config.filtering.settings)("allowExcelExport",!0)("contextMenuItems",i.config.contextMenuItems),t.xp6(3),t.Q6J("ngForOf",i.config.columns)}}function gt(e,a){if(1&e&&(t.TgZ(0,"div",null,8),t.YNc(2,pt,6,17,"ejs-grid",9),t.qZA()),2&e){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.config)}}function mt(e,a){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-invoice",30),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("data",i.selectedData)}}function ft(e,a){if(1&e&&t._UZ(0,"app-ad-card",32),2&e){const i=t.oxw(2);t.Q6J("data",i.selectedData)("additionalInformation",i.additionalInformation)}}function ut(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,ft,1,2,"app-ad-card",31),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.selectedData)}}let ht=(()=>{class e{constructor(i,n,o,l,_,m,xt){this.configurationService=i,this.apiService=n,this.helpService=o,this.toastr=l,this.routerNavigate=_,this.router=m,this.messageService=xt,this.typeOfModification="add",this.loader=!1,this.unsubscribe=new p.x,this.invoice={},this.generateInvoice=!1,this.dialogPosition={X:"center",Y:"center"},this.additionalInformation=new x.S}ngOnInit(){this.loader=!0,this.initializeConfig(),this.subscribeMessageServices(),this.filterOptions={type:"Menu"}}onBeforeOpen(i){i.maxHeight=null}onResize(){this.height=this.helpService.getHeightForGridWithoutPx(this.partOfTab)}initializeConfig(){this.language=this.helpService.getLanguage(),console.log(this.language),this.configurationService.getConfiguration(this.path,this.file).subscribe(i=>{this.config=i,this.height=this.helpService.getHeightForGridWithoutPx(this.partOfTab),this.loader=!1,this.enableGridSpinner(),this.apiService.callApi(this.config,this.router).subscribe(n=>{this.setResponseData(n)})})}subscribeMessageServices(){this.subscription=this.messageService.getRefreshGrid().subscribe(()=>{this.enableGridSpinner(),this.apiService.callApi(this.config,this.router).subscribe(i=>{this.setResponseData(i)}),setTimeout(()=>{this.operations.dialog.close()},50)})}actionComplete(i){("beginEdit"===i.requestType||"add"===i.requestType)&&(i.dialog.buttons=[],this.config.width&&(i.dialog.width=this.config.width),"add"===i.requestType?i.dialog.header=this.language.gridPopupAddTitle:"beginEdit"===i.requestType&&(i.dialog.header=this.language.gridPopupEditTitle),this.config.config&&setTimeout(()=>{this.setValue(this.config.config,i.rowData)},50)),"delete"===i.requestType&&(this.config.uploadConfig?this.deleteDocument(i):this.deleteData(i)),this.typeOfModification=i.requestType,this.operations=i,i.cancel=!0}submitEmitter(i){this.enableGridSpinner(),"add"===this.typeOfModification?this.callServerMethod(this.config.editSettingsRequest.add,i):"beginEdit"===this.typeOfModification&&this.callServerMethod(this.config.editSettingsRequest.edit,i),this.operations.dialog.close()}callServerMethod(i,n){this.apiService.callServerMethod(i,n,this.router).subscribe(o=>{o?(this.toastr.showSuccess(),this.apiService.callApi(this.config,this.router).subscribe(l=>{this.setResponseData(l)})):(this.toastr.showError(),this.grid.hideSpinner())})}setResponseData(i){"GET"===this.config.request.type&&(this.data=i,this.disabledGridSpinner())}enableGridSpinner(){setTimeout(()=>{this.grid.showSpinner()},50)}disabledGridSpinner(){setTimeout(()=>{this.grid.hideSpinner()},100)}deleteData(i){for(let n=0;n<i.data.length;n++)this.callServerMethod(this.config.editSettingsRequest.delete,i.data[n])}deleteDocument(i){for(let n=0;n<i.data.length;n++)this.callServerMethod(this.config.uploadConfig.delete,i.data[n])}setValue(i,n){for(let o=0;o<i.length;o++)this.form.setValue(i[o].name,n[i[o].name],i[o].type)}openPage(i,n,o){const l=this.helpService.concatenatePageLink(i,n,o);this.routerNavigate.navigate([l])}unsuscribeME(){this.unsubscribe.next(null),this.unsubscribe.complete(),this.subscription&&this.subscription.unsubscribe()}ngOnDestroy(){this.unsuscribeME()}previewDocument(i){this.apiService.getDocument(i).subscribe(n=>{let o=new Blob([n],{type:"application/pdf"});var l=URL.createObjectURL(o);window.open(l)})}getFileTypeIcon(i,n){return this.helpService.getFileTypeIcon(i[n])}clickDropDownButton(i,n,o){if(i.item.properties.id)if(o.itemsRequest&&o.itemsRequest[i.item.properties.id])this.apiService.callApi({request:o.itemsRequest[i.item.properties.id],body:n},this.router).subscribe(_=>{_?this.toastr.showSuccess():this.toastr.showError(),this.grid.hideSpinner()});else{if(o.fields&&o.fields[i.item.properties.id])for(let l=0;l<o.fields[i.item.properties.id].length;l++)this.invoice[o.fields[i.item.properties.id][l].key]=n[o.fields[i.item.properties.id][l].value];this.invoice.products=[],this.invoiceAction=i.item.properties.id,this.generateInvoice=!0,setTimeout(()=>{this.generateInvoice=!1},100)}}toolbarClick(i){"e-excelexport"===i.item.prefixIcon?this.grid.excelExport({exportType:"CurrentPage"}):"e-pdfexport"===i.item.prefixIcon&&this.grid.pdfExport({exportType:"CurrentPage"})}previewInvoice(i){this.selectedData=i,this.invoiceDialog.show()}previewAd(i){this.selectedData=i,this.additionalInformation={position:i.position,city:i.city_name,start_date:i.start_date,expired_date:i.expired_date,number_of_weeks:i.number_of_weeks,price:i.price},this.adDialog.show()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(b.e),t.Y36(v.f),t.Y36(f.s),t.Y36(Z.l),t.Y36(u.F0),t.Y36(u.gz),t.Y36(T.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dynamic-grid"]],viewQuery:function(i,n){if(1&i&&(t.Gf(M,5),t.Gf(j,5),t.Gf(g.b,5),t.Gf(q,5),t.Gf(U,5),t.Gf(J,5),t.Gf(P,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.invoiceDialog=o.first),t.iGM(o=t.CRH())&&(n.adDialog=o.first),t.iGM(o=t.CRH())&&(n.form=o.first),t.iGM(o=t.CRH())&&(n.grid=o.first),t.iGM(o=t.CRH())&&(n.orderForm=o.first),t.iGM(o=t.CRH())&&(n.editSettingsTemplate=o.first),t.iGM(o=t.CRH())&&(n.container=o.first)}},hostBindings:function(i,n){1&i&&t.NdJ("resize",function(l){return n.onResize(l)},!1,t.Jf7)},inputs:{path:"path",file:"file",partOfTab:"partOfTab"},decls:10,vars:8,consts:[["style","height: 70vh",4,"ngIf"],[4,"ngIf"],["id","invoiceDialog","showCloseIcon","true","showOnInit","true","width","300px",3,"visible","isModal","position","beforeOpen"],["invoiceDialog",""],["content",""],["id","adDialog","showCloseIcon","true","showOnInit","true","width","300px",3,"visible","isModal","position","beforeOpen"],["adDialog",""],[2,"height","70vh"],["container",""],["width","100%","allowTextWrap","true",3,"height","dataSource","editSettings","toolbar","allowSorting","sortSettings","allowGrouping","allowResizing","allowPaging","allowExcelExport","allowPdfExport","pageSettings","allowFiltering","filterSettings","contextMenuItems","actionComplete","toolbarClick",4,"ngIf"],["width","100%","allowTextWrap","true",3,"height","dataSource","editSettings","toolbar","allowSorting","sortSettings","allowGrouping","allowResizing","allowPaging","allowExcelExport","allowPdfExport","pageSettings","allowFiltering","filterSettings","contextMenuItems","actionComplete","toolbarClick"],["grid",""],[3,"type","field","headerText","width","class","textAlign","isPrimaryKey","editType","allowEditing","format","validationRules","allowFiltering",4,"ngFor","ngForOf"],["editSettingsTemplate",""],[3,"type","field","headerText","width","textAlign","isPrimaryKey","editType","allowEditing","format","validationRules","allowFiltering"],["template",""],[3,"class","click",4,"ngIf"],[3,"click"],["class","mat-icon notranslate material-icons mat-icon-no-color","aria-hidden","false",4,"ngIf"],["aria-hidden","false",1,"mat-icon","notranslate","material-icons","mat-icon-no-color"],["ejs-dropdownbutton","","class","background-none",3,"items","content","select",4,"ngIf"],["ejs-dropdownbutton","",1,"background-none",3,"items","content","select"],[4,"ngFor","ngForOf"],[3,"innerHtml",4,"ngIf"],[3,"innerHtml"],["ngForm",""],[1,"form-row"],[3,"config","partOfGrid","submit",4,"ngIf"],[3,"config","partOfGrid","submit"],["form","dynamicForm"],[3,"data"],[3,"data","additionalInformation",4,"ngIf"],[3,"data","additionalInformation"]],template:function(i,n){1&i&&(t.YNc(0,N,2,0,"div",0),t.YNc(1,gt,3,1,"div",1),t.TgZ(2,"ejs-dialog",2,3),t.NdJ("beforeOpen",function(l){return n.onBeforeOpen(l)}),t.YNc(4,mt,2,1,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(6,"ejs-dialog",5,6),t.NdJ("beforeOpen",function(l){return n.onBeforeOpen(l)}),t.YNc(8,ut,2,1,"ng-template",null,4,t.W1O),t.qZA()),2&i&&(t.Q6J("ngIf",n.loader),t.xp6(1),t.Q6J("ngIf",!n.loader),t.xp6(1),t.Q6J("visible",!1)("isModal",!0)("position",n.dialogPosition),t.xp6(4),t.Q6J("visible",!1)("isModal",!0)("position",n.dialogPosition))},dependencies:[r.sg,r.O5,y.JL,w.R,C.v,O,I.au,A._z,s.MwP,s.iKq,s.SRY,s.fMR,s.NQQ,S.Hw,g.b]}),e})()},6668:(h,d,c)=>{c.d(d,{S:()=>p});class p{}}}]);