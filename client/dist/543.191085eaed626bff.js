"use strict";(self.webpackChunkCityInfo=self.webpackChunkCityInfo||[]).push([[543],{1543:(j,p,o)=>{o.r(p),o.d(p,{UsersModule:()=>T});var c=o(6895),g=o(4968),e=o(8274),u=o(674);let m=(()=>{class t{constructor(){this.path="/grids/user",this.file="paid-ads.json"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-paid-ads"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(n,s){1&n&&e._UZ(0,"app-dynamic-grid",0),2&n&&e.Q6J("path",s.path)("file",s.file)},directives:[u.d],styles:[""]}),t})();var h=o(7628);class f{}class C{}var v=o(7996),M=o(5453),U=o(9052),A=o(5013),l=o(4779),r=o(4006);const y=function(){return{upload:"Upload cover image and save ads"}},x=[{path:"",redirectTo:"my-ads",pathMatch:"full"},{path:"my-ads",component:(()=>{class t{constructor(n,s,d,a){this.configurationService=n,this.helpService=s,this.toastr=d,this.service=a,this.data=new C,this.config=new f,this.path="upload-config",this.file="upload-cover-image.json",this.listOfAds=[]}ngOnInit(){this.intializeData(),this.initializeConfig()}executeAction(){}intializeData(){this.service.callGetMethod("api/getMyAds","").subscribe(n=>{this.listOfAds=n})}initializeConfig(){this.configurationService.getConfiguration(this.path,this.file).subscribe(n=>{this.config=n,this.initializeSettings()})}initializeSettings(){this.asyncSettings={saveUrl:this.config.saveUrl,removeUrl:this.config.removeUrl}}onUploadBegin(n){console.log(this.data),this.data.id_user=this.helpService.getUserId();let s=(0,h.QI)(n.fileData.name.substring(0,n.fileData.name.lastIndexOf(".")));n.customFormData=[{fileName:s},{additionalData:this.data?JSON.stringify(this.data):""}],console.log(n),setTimeout(()=>{200==n.currentRequest?.status?this.toastr.showSuccessCustom("You successfuly created new ads draft!"):this.toastr.showErrorCustom("Not successfuly created new ads draft!")},500)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.e),e.Y36(M.s),e.Y36(U.l),e.Y36(A.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-ads"]],decls:29,vars:14,consts:[[1,"my-ads"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"custom-label"],["cssClass","e-outline","name","name",3,"id","ngModel","ngModelChange"],["cssClass","e-outline","name","address",3,"id","ngModel","ngModelChange"],[1,"col-md-12","row","m-0","p-0"],[1,"col-md-6"],["cssClass","e-outline","name","phone",3,"id","ngModel","ngModelChange"],["cssClass","e-outline","name","email",3,"id","ngModel","ngModelChange"],["multiline","true","cssClass","e-outline","name","description",3,"id","ngModel","ngModelChange"],[3,"asyncSettings","autoUpload","buttons","uploading"],["defaultupload",""]],template:function(n,s){1&n&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Name of company"),e.qZA(),e.TgZ(6,"ejs-textbox",5),e.NdJ("ngModelChange",function(a){return s.data.name=a}),e.qZA()(),e.TgZ(7,"div",3)(8,"label",4),e._uU(9,"Address"),e.qZA(),e.TgZ(10,"ejs-textbox",6),e.NdJ("ngModelChange",function(a){return s.data.address=a}),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8)(13,"label",4),e._uU(14,"Phone"),e.qZA(),e.TgZ(15,"ejs-textbox",9),e.NdJ("ngModelChange",function(a){return s.data.phone=a}),e.qZA()(),e.TgZ(16,"div",8)(17,"label",4),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"ejs-textbox",10),e.NdJ("ngModelChange",function(a){return s.data.email=a}),e.qZA()()(),e.TgZ(20,"div",3)(21,"label",4),e._uU(22,"Description"),e.qZA(),e.TgZ(23,"ejs-textbox",11),e.NdJ("ngModelChange",function(a){return s.data.description=a}),e.qZA()(),e.TgZ(24,"div",3)(25,"label",4),e._uU(26,"Upload Cover image"),e.qZA(),e.TgZ(27,"ejs-uploader",12,13),e.NdJ("uploading",function(a){return s.onUploadBegin(a)}),e.qZA()()()()),2&n&&(e.xp6(6),e.Q6J("id",s.data.name)("ngModel",s.data.name),e.xp6(4),e.Q6J("id",s.data.address)("ngModel",s.data.address),e.xp6(5),e.Q6J("id",s.data.phone)("ngModel",s.data.phone),e.xp6(4),e.Q6J("id",s.data.email)("ngModel",s.data.email),e.xp6(4),e.Q6J("id",s.data.description)("ngModel",s.data.description),e.xp6(4),e.Q6J("asyncSettings",s.asyncSettings)("autoUpload",!1)("buttons",e.DdM(13,y)))},directives:[l.PL,r.JJ,r.On,l.FH],styles:[".file-drop-area[_ngcontent-%COMP%]{position:relative;text-align:center;align-items:center;width:450px;max-width:100%;padding:25px;border:1px dashed #56a6f1;border-radius:3px;transition:.2s;margin-left:15px;margin-right:15px}.file-drop-area.is-active[_ngcontent-%COMP%]{background-color:#ffffff0d}.fake-btn[_ngcontent-%COMP%]{flex-shrink:0;background-color:#d8dde3;border:1px solid #d8dde3;border-radius:3px;padding:8px 15px;margin-right:10px;font-size:12px;text-transform:uppercase}.file-msg[_ngcontent-%COMP%]{font-size:small;font-weight:300;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-input[_ngcontent-%COMP%]:focus{outline:none}"]}),t})()},{path:"paid-ads",component:m}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(x)],g.Bz]}),t})();var b=o(1122);let T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[c.ez,Z,r.u5,l.vS,l.Mw,b.w]]}),t})()}}]);