{"version":3,"file":"src_app_components_dashboard_routing-module_dashboard_module_ts.js","mappings":"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","sources":["./src/app/components/dashboard/pages/users/uploads/uploads.component.ts","./src/app/components/dashboard/pages/users/uploads/uploads.component.html","./src/app/components/dashboard/routing-module/dashboard-routing.ts","./src/app/components/dashboard/routing-module/dashboard.module.ts","./src/app/services/login-guard/logged-guard-superadmin.service.ts","./src/app/services/login-guard/logged-guard-user.service.ts","./node_modules/ngx-image-compress/fesm2020/ngx-image-compress.mjs","./node_modules/ngx-image-cropper/fesm2020/ngx-image-cropper.mjs","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-uploads',\r\n  templateUrl: './uploads.component.html',\r\n  styleUrls: ['./uploads.component.scss']\r\n})\r\nexport class UploadsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>uploads works!</p>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LoggedGuardSuperadminService } from 'src/app/services/login-guard/logged-guard-superadmin.service';\r\nimport { LoggedGuardUserService } from 'src/app/services/login-guard/logged-guard-user.service';\r\nimport { DashboardComponent } from '../dashboard.component';\r\nimport { UploadsComponent } from '../pages/users/uploads/uploads.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'superadmin',\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'uploads',\r\n    component: UploadsComponent,\r\n  },\r\n  {\r\n    path: 'superadmin',\r\n    canActivate: [LoggedGuardSuperadminService],\r\n    loadChildren: () =>\r\n      import(\r\n        '../pages/superadmin/routing-module/superadmin.module'\r\n      ).then((m) => m.SuperadminModule),\r\n  },\r\n  {\r\n    path: 'user',\r\n    canActivate: [LoggedGuardUserService],\r\n    loadChildren: () =>\r\n      import(\r\n        '../pages/users/routing-module/users.module'\r\n      ).then((m) => m.UsersModule),\r\n  },\r\n  {\r\n    path: 'settings',\r\n    loadChildren: () =>\r\n      import(\r\n        '../pages/profile-settings/routing-module/profile-settings.module'\r\n      ).then((m) => m.ProfileSettingsdModule),\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DashboardRouting {}\r\n","import { NgModule } from '@angular/core';\r\nimport { DashboardComponent } from '../dashboard.component';\r\nimport { DashboardRouting } from './dashboard-routing';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavigationComponent } from '../navigation/navigation.component';\r\nimport { DynamicModule } from '../../dynamic-component/dynamic-module/dynamic/dynamic.module';\r\nimport { DropDownButtonModule } from '@syncfusion/ej2-angular-splitbuttons';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\n\r\n@NgModule({\r\n  declarations: [DashboardComponent, NavigationComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DashboardRouting,\r\n    DynamicModule,\r\n    DropDownButtonModule,\r\n    ImageCropperModule,\r\n  ],\r\n  providers: [NgxImageCompressService],\r\n})\r\nexport class DashboardModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserType } from 'src/app/enums/user-type';\r\nimport { HelpService } from '../help.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoggedGuardSuperadminService {\r\n  constructor(private router: Router, public helpService: HelpService) {}\r\n\r\n  canActivate() {\r\n    if (this.helpService.getUserType() == UserType.superadmin) {\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['/dashboard/user']);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserType } from 'src/app/enums/user-type';\r\nimport { HelpService } from '../help.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoggedGuardUserService {\r\n\r\n  constructor(private router: Router, public helpService: HelpService) {}\r\n\r\n  canActivate() {\r\n    if (this.helpService.getUserType() == UserType.user) {\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['/dashboard/superadmin']);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import * as i0 from '@angular/core';\nimport { Injectable } from '@angular/core';\n\n/**\n * EXIF tag standard reference\n *\n * Tag Name: Orientation\n * Tag ID: 0x0112\n * Writable: int16u\n * Group: IFD0\n * Values:\n 1 = Horizontal (normal)\n 2 = Mirror horizontal\n 3 = Rotate 180\n 4 = Mirror vertical\n 5 = Mirror horizontal and rotate 270 CW\n 6 = Rotate 90 CW\n 7 = Mirror horizontal and rotate 90 CW\n 8 = Rotate 270 CW\n */\nvar DOC_ORIENTATION;\n(function (DOC_ORIENTATION) {\n    DOC_ORIENTATION[DOC_ORIENTATION[\"Up\"] = 1] = \"Up\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"Down\"] = 3] = \"Down\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"Right\"] = 6] = \"Right\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"Left\"] = 8] = \"Left\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"UpMirrored\"] = 2] = \"UpMirrored\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"DownMirrored\"] = 4] = \"DownMirrored\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"LeftMirrored\"] = 5] = \"LeftMirrored\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"RightMirrored\"] = 7] = \"RightMirrored\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"Default\"] = 0] = \"Default\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"NotJpeg\"] = -1] = \"NotJpeg\";\n    DOC_ORIENTATION[DOC_ORIENTATION[\"NotDefined\"] = -2] = \"NotDefined\";\n})(DOC_ORIENTATION || (DOC_ORIENTATION = {}));\n\nvar _a;\nclass ImageCompress {\n}\n_a = ImageCompress;\nImageCompress.getOrientation = (file) => new Promise((resolve, reject) => {\n    try {\n        const reader = new FileReader();\n        reader.onload = () => {\n            const view = new DataView(reader.result);\n            if (!view.byteLength) {\n                return resolve(DOC_ORIENTATION.NotDefined);\n            }\n            if (view.getUint16(0, false) !== 0xffd8) {\n                return resolve(DOC_ORIENTATION.NotDefined);\n            }\n            const length = view.byteLength;\n            let offset = 2;\n            while (offset < length) {\n                const marker = view.getUint16(offset, false);\n                offset += 2;\n                if (marker === 0xffe1) {\n                    if (view.getUint32((offset += 2), false) !== 0x45786966) {\n                        return resolve(DOC_ORIENTATION.NotJpeg);\n                    }\n                    const little = view.getUint16((offset += 6), false) === 0x4949;\n                    offset += view.getUint32(offset + 4, little);\n                    const tags = view.getUint16(offset, little);\n                    offset += 2;\n                    for (let i = 0; i < tags; i++) {\n                        if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                            return resolve(view.getUint16(offset + i * 12 + 8, little));\n                        }\n                    }\n                }\n                else if ((marker & 0xff00) !== 0xff00) {\n                    break;\n                }\n                else {\n                    offset += view.getUint16(offset, false);\n                }\n            }\n            return resolve(DOC_ORIENTATION.NotJpeg);\n        };\n        reader.readAsArrayBuffer(file);\n    }\n    catch (e) {\n        return reject(DOC_ORIENTATION.Default);\n    }\n});\nImageCompress.uploadFile = (render, multiple = true, rejectOnCancel = false) => new Promise(function (resolve, reject) {\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    const isIOS = /iPad|iPhone|iPod/i.test(navigator.userAgent);\n    Promise.resolve(isSafari || isIOS)\n        .then(onlyNative => {\n        if (onlyNative) {\n            return ImageCompress.generateUploadInputNative(window.document, multiple, rejectOnCancel);\n        }\n        else {\n            return ImageCompress.generateUploadInputRenderer(render, multiple, rejectOnCancel);\n        }\n    })\n        .then((filesList) => {\n        const files = filesList ? Array.from(filesList) : [];\n        const orientationPromises = files.map(file => ImageCompress.getOrientation(file));\n        const readerPromises = files.map(file => ImageCompress.fileToDataURL(file));\n        let orientationsResult = [];\n        Promise.all(orientationPromises)\n            .then((orientations) => {\n            orientationsResult = orientations;\n            return Promise.all(readerPromises);\n        })\n            .then(readerResult => {\n            const resultArray = readerResult.map((parsedFile, index) => ({\n                image: parsedFile.dataUrl,\n                orientation: orientationsResult[index],\n                fileName: parsedFile.fileName,\n            }));\n            if (multiple) {\n                resolve(resultArray);\n            }\n            else {\n                resolve(resultArray[0]);\n            }\n        });\n    })\n        .catch(err => reject(err));\n});\nImageCompress.fileToDataURL = (file) => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            //myReader.onloadend = (progressEvent: ProgressEvent<FileReader>)\n            resolve({ dataUrl: e.target.result, fileName: file.name });\n        };\n        try {\n            reader.readAsDataURL(file);\n        }\n        catch (e) {\n            reject(`ngx-image-compress - probably no file have been selected: ${e}`);\n        }\n    });\n};\nImageCompress.generateUploadInputRenderer = (render, multiple = true, rejectOnCancel = false) => {\n    let lock = false;\n    return new Promise((resolve, reject) => {\n        const inputElement = render.createElement('input');\n        render.setStyle(inputElement, 'display', 'none');\n        render.setProperty(inputElement, 'type', 'file');\n        render.setProperty(inputElement, 'accept', 'image/*');\n        if (multiple) {\n            render.setProperty(inputElement, 'multiple', 'true');\n        }\n        render.listen(inputElement, 'click', ($event) => {\n            $event.target.value = '';\n        });\n        render.listen(inputElement, 'change', $event => {\n            lock = true;\n            const files = $event.target.files;\n            resolve(files);\n        });\n        if (rejectOnCancel) {\n            window.addEventListener('focus', () => {\n                setTimeout(() => {\n                    if (!lock) {\n                        reject(new Error('file upload on blur - no file selected'));\n                    }\n                }, 300);\n            }, { once: true });\n        }\n        inputElement.click();\n    });\n};\nImageCompress.generateUploadInputNative = (documentNativeApi, multiple = true, rejectOnCancel = false) => {\n    let lock = false;\n    return new Promise((resolve, reject) => {\n        const inputElement = documentNativeApi.createElement('input');\n        inputElement.id = 'upload-input' + new Date();\n        inputElement.style.display = 'none';\n        inputElement.setAttribute('type', 'file');\n        inputElement.setAttribute('accept', 'image/*');\n        if (multiple) {\n            inputElement.setAttribute('multiple', 'true');\n        }\n        documentNativeApi.body.appendChild(inputElement);\n        inputElement.addEventListener('change', () => {\n            lock = true;\n            resolve(inputElement.files);\n            documentNativeApi.body.removeChild(documentNativeApi.getElementById(inputElement.id));\n        }, { once: true });\n        if (rejectOnCancel) {\n            window.addEventListener('focus', () => {\n                setTimeout(() => {\n                    if (!lock && documentNativeApi.getElementById(inputElement.id)) {\n                        reject(new Error('file upload on blur - no file selected'));\n                        documentNativeApi.body.removeChild(documentNativeApi.getElementById(inputElement.id));\n                    }\n                }, 300);\n            }, { once: true });\n        }\n        // open file select box\n        inputElement.click();\n    });\n};\nImageCompress.compress = (imageDataUrlSource, orientation, render, ratio = 50, quality = 50, maxwidth = 0, maxheight = 0) => new Promise(function (resolve, reject) {\n    quality = quality / 100;\n    ratio = ratio / 100;\n    const sourceImage = new Image();\n    // important for safari: we need to wait for onload event\n    sourceImage.onload = () => {\n        const canvas = render.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            return reject(`No canvas context available`);\n        }\n        let w = sourceImage.naturalWidth;\n        let h = sourceImage.naturalHeight;\n        if (!CSS.supports('image-orientation', 'from-image')) {\n            if (orientation === DOC_ORIENTATION.Right || orientation === DOC_ORIENTATION.Left) {\n                const t = w;\n                w = h;\n                h = t;\n            }\n        }\n        const xratio = maxwidth ? maxwidth / w : 1;\n        const yratio = maxheight ? maxheight / h : 1;\n        ratio = Math.min(ratio, xratio, yratio);\n        canvas.width = w * ratio;\n        canvas.height = h * ratio;\n        const TO_RADIANS = Math.PI / 180;\n        if (CSS.supports('image-orientation', 'from-image') || orientation === DOC_ORIENTATION.Up) {\n            ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n        }\n        else if (orientation === DOC_ORIENTATION.Right) {\n            ctx.save();\n            ctx.rotate(90 * TO_RADIANS);\n            ctx.translate(0, -canvas.width);\n            ctx.drawImage(sourceImage, 0, 0, canvas.height, canvas.width);\n            ctx.restore();\n        }\n        else if (orientation === DOC_ORIENTATION.Left) {\n            ctx.save();\n            ctx.rotate(-90 * TO_RADIANS);\n            ctx.translate(-canvas.width, 0);\n            ctx.drawImage(sourceImage, 0, 0, canvas.height, canvas.width);\n            ctx.restore();\n        }\n        else if (orientation === DOC_ORIENTATION.Down) {\n            ctx.save();\n            ctx.rotate(180 * TO_RADIANS);\n            ctx.translate(-canvas.width, -canvas.height);\n            ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n            ctx.restore();\n        }\n        else {\n            // no orientation value found - same as default UP\n            ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n        }\n        const mime = imageDataUrlSource.substr(5, imageDataUrlSource.split(';')[0].length - 5);\n        // TODO test on mime\n        const result = canvas.toDataURL(mime, quality);\n        resolve(result);\n    };\n    sourceImage.onerror = e => reject(e);\n    sourceImage.src = imageDataUrlSource;\n});\nImageCompress.byteCount = (imgString) => encodeURI(imgString).split(/%..|./).length - 1;\nImageCompress.getImageMaxSize = async (maxSizeMb, debugMode, render, rejectOnCancel = false) => {\n    const MAX_TRIES = 10;\n    const bytesToMB = (bytes) => (bytes / 1024 / 1024).toFixed(2);\n    if (debugMode) {\n        console.debug('NgxImageCompress - Opening upload window');\n    }\n    const myFile = (await ImageCompress.uploadFile(render, false, rejectOnCancel));\n    let compressedFile;\n    for (let i = 0; i < MAX_TRIES; i++) {\n        const previousSize = ImageCompress.byteCount(myFile.image);\n        compressedFile = await ImageCompress.compress(myFile.image, myFile.orientation, render, 50, 100);\n        const newSize = ImageCompress.byteCount(compressedFile);\n        console.debug('NgxImageCompress -', 'Compression from', bytesToMB(previousSize), 'MB to', bytesToMB(newSize), 'MB');\n        if (newSize >= previousSize) {\n            if (i === 0) {\n                if (debugMode) {\n                    console.debug('NgxImageCompress -', \"File can't be reduced at all - returning the original\", bytesToMB(previousSize), 'MB large');\n                }\n                throw { ...myFile, image: compressedFile };\n            }\n            else {\n                if (debugMode) {\n                    console.debug('NgxImageCompress -', \"File can't be reduced more - returning the best we can, which is \", bytesToMB(previousSize), 'MB large');\n                }\n                throw { ...myFile, image: compressedFile };\n            }\n        }\n        else {\n            if (newSize < maxSizeMb * 1024 * 1024) {\n                if (debugMode) {\n                    console.debug('NgxImageCompress -', 'Here your file', bytesToMB(newSize), 'MB large');\n                }\n                return { ...myFile, image: compressedFile };\n            }\n            else if (i === 9) {\n                if (debugMode) {\n                    console.debug('NgxImageCompress -', \"File can't reach the desired size after\", MAX_TRIES, 'tries. Returning file ', bytesToMB(previousSize), 'MB large');\n                }\n                throw { ...myFile, image: compressedFile };\n            }\n        }\n        if (debugMode) {\n            console.debug('NgxImageCompress -', 'Reached', bytesToMB(newSize), 'MB large. Trying another time after', i + 1, 'times');\n        }\n        myFile.image = compressedFile;\n    }\n    if (debugMode) {\n        console.debug('NgxImageCompress - Unexpected error');\n    }\n    throw {};\n};\n\nclass NgxImageCompressService {\n    constructor(rendererFactory) {\n        this.DOC_ORIENTATION = DOC_ORIENTATION;\n        this.render = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * helper to evaluate the compression rate\n     * @param imgString the image in base64 string format\n     */\n    byteCount(image) {\n        return ImageCompress.byteCount(image);\n    }\n    /**\n     * Get the correct Orientation value from image tags\n     */\n    getOrientation(file) {\n        return ImageCompress.getOrientation(file);\n    }\n    /**\n     * return a promise with the new image data and image orientation\n     * Nothing happen if no file have been selected\n     */\n    uploadFile() {\n        return ImageCompress.uploadFile(this.render, false);\n    }\n    /**\n     * return a promise with an array of image data and image orientation\n     * Nothing happen if no files have been selected\n     */\n    uploadMultipleFiles() {\n        return ImageCompress.uploadFile(this.render, true);\n    }\n    /**\n     * return a promise with the new image data and image orientation\n     * the promise will reject if no file have been selected\n     */\n    uploadFileOrReject() {\n        return ImageCompress.uploadFile(this.render, false, true);\n    }\n    /**\n     * return a promise with an array of image data and image orientation\n     * the promise will reject if no files have been selected\n     */\n    uploadMultipleFilesOrReject() {\n        return ImageCompress.uploadFile(this.render, true, true);\n    }\n    /**\n   * perform a compression from the given DataUrl (string), provided by the uploadFile, or uploadMultipleFiles method\n   *\n   *\n   | Parameter   | Type   | Description                                                                       |\n   | ----------- | ------ | --------------------------------------------------------------------------------- |\n   | image       | string | DataUrl (string) representing the image                                           |\n   | orientation | number | EXIF Orientation value using the DOC_ORIENTATION enum value                       |\n   | ratio       | number | Maximum scale factor as a percentage (optional, default: 50) <sup>[1](#fn1)</sup> |\n   | quality     | number | JPEG quality factor as a percentage (optional, default: 50) <sup>[2](#fn2)</sup>  |\n   | maxwidth    | number | Maximum width in pixels if you need to resize (optional, default: 0 - no resize)  |\n   | maxheight   | number | Maximum height in pixels if you need to resize (optional, default: 0 - no resize) |\n   */\n    compressFile(image, orientation, ratio = 50, quality = 50, maxWidth = 0, maxHeight = 0) {\n        return ImageCompress.compress(image, orientation, this.render, ratio, quality, maxWidth, maxHeight);\n    }\n    /**\n     * Most simple function to use here.\n     * Perform an upload and return an image dataUrl (string format) with a maximum size, given in *MegaBytes*\n     * If the size can't be reached, the best that can be reached will be returned in promise *rejection*\n     * Put debugMode to true if you have some trouble to print some help using console.debug\n     */\n    uploadAndGetImageWithMaxSize(maxSizeMb = 1, debugMode = false, rejectOnCancel = false) {\n        return ImageCompress.getImageMaxSize(maxSizeMb, debugMode, this.render, rejectOnCancel)\n            .then(uploadResponse => uploadResponse.image)\n            .catch(e => {\n            throw e.image;\n        });\n    }\n    /**\n     * Same as before, but return more informations (file name...)\n     */\n    uploadAndGetImageWithMaxSizeAndMetas(maxSizeMb = 1, debugMode = false, rejectOnCancel = false) {\n        return ImageCompress.getImageMaxSize(maxSizeMb, debugMode, this.render, rejectOnCancel);\n    }\n}\nNgxImageCompressService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.2\", ngImport: i0, type: NgxImageCompressService, deps: [{ token: i0.RendererFactory2 }], target: i0.FactoryTarget.Injectable });\nNgxImageCompressService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.1.2\", ngImport: i0, type: NgxImageCompressService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.2\", ngImport: i0, type: NgxImageCompressService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.RendererFactory2 }]; } });\n\n/*\n * Public API Surface of ngx-image-compress\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DOC_ORIENTATION, NgxImageCompressService };\n","import * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, isDevMode, Component, ChangeDetectionStrategy, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@angular/platform-browser';\nimport * as i5 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nclass CropperSettings {\n    constructor() {\n        // From options\n        this.format = 'png';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resetCropOnAspectRatioChange = true;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.cropperMaxHeight = 0;\n        this.cropperMaxWidth = 0;\n        this.cropperStaticWidth = 0;\n        this.cropperStaticHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.backgroundColor = null;\n        this.containWithinAspectRatio = false;\n        this.hideResizeSquares = false;\n        this.alignImage = 'center';\n        // Internal\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.cropperScaledMaxWidth = 20;\n        this.cropperScaledMaxHeight = 20;\n        this.stepSize = this.initialStepSize;\n    }\n    setOptions(options) {\n        Object.keys(options)\n            .filter((k) => k in this)\n            .forEach((k) => this[k] = options[k]);\n        this.validateOptions();\n    }\n    setOptionsFromChanges(changes) {\n        Object.keys(changes)\n            .filter((k) => k in this)\n            .forEach((k) => this[k] = changes[k].currentValue);\n        this.validateOptions();\n    }\n    validateOptions() {\n        if (this.maintainAspectRatio && !this.aspectRatio) {\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\n        }\n    }\n}\n\nvar MoveTypes;\n(function (MoveTypes) {\n    MoveTypes[\"Drag\"] = \"drag\";\n    MoveTypes[\"Move\"] = \"move\";\n    MoveTypes[\"Resize\"] = \"resize\";\n    MoveTypes[\"Pinch\"] = \"pinch\";\n})(MoveTypes || (MoveTypes = {}));\n\nfunction getPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'top';\n        case 'ArrowRight':\n            return 'right';\n        case 'ArrowDown':\n            return 'bottom';\n        case 'ArrowLeft':\n        default:\n            return 'left';\n    }\n}\nfunction getInvertedPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'bottom';\n        case 'ArrowRight':\n            return 'left';\n        case 'ArrowDown':\n            return 'top';\n        case 'ArrowLeft':\n        default:\n            return 'right';\n    }\n}\nfunction getEventForKey(key, stepSize) {\n    switch (key) {\n        case 'ArrowUp':\n            return { clientX: 0, clientY: stepSize * -1 };\n        case 'ArrowRight':\n            return { clientX: stepSize, clientY: 0 };\n        case 'ArrowDown':\n            return { clientX: 0, clientY: stepSize };\n        case 'ArrowLeft':\n        default:\n            return { clientX: stepSize * -1, clientY: 0 };\n    }\n}\n\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\nfunction resizeCanvas(canvas, width, height) {\n    const width_source = canvas.width;\n    const height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    const ratio_w = width_source / width;\n    const ratio_h = height_source / height;\n    const ratio_w_half = Math.ceil(ratio_w / 2);\n    const ratio_h_half = Math.ceil(ratio_h / 2);\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n        const img = ctx.getImageData(0, 0, width_source, height_source);\n        const img2 = ctx.createImageData(width, height);\n        const data = img.data;\n        const data2 = img2.data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                const x2 = (i + j * width) * 4;\n                const center_y = j * ratio_h;\n                let weight = 0;\n                let weights = 0;\n                let weights_alpha = 0;\n                let gx_r = 0;\n                let gx_g = 0;\n                let gx_b = 0;\n                let gx_a = 0;\n                const xx_start = Math.floor(i * ratio_w);\n                const yy_start = Math.floor(j * ratio_h);\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (let yy = yy_start; yy < yy_stop; yy++) {\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\n                    const center_x = i * ratio_w;\n                    const w0 = dy * dy; //pre-calc part of w\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\n                        const w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        const pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\nfunction percentage(percent, totalValue) {\n    return (percent / 100) * totalValue;\n}\n\nclass CropService {\n    crop(sourceImage, loadedImage, cropper, settings) {\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\n        const width = imagePosition.x2 - imagePosition.x1;\n        const height = imagePosition.y2 - imagePosition.y1;\n        const cropCanvas = document.createElement('canvas');\n        cropCanvas.width = width;\n        cropCanvas.height = height;\n        const ctx = cropCanvas.getContext('2d');\n        if (!ctx) {\n            return null;\n        }\n        if (settings.backgroundColor != null) {\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.fillRect(0, 0, width, height);\n        }\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\n        const { translateH, translateV } = this.getCanvasTranslate(sourceImage, loadedImage, settings);\n        const transformedImage = loadedImage.transformed;\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2 + translateH, transformedImage.size.height / 2 + translateV);\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\n        const output = {\n            width, height,\n            imagePosition,\n            cropperPosition: { ...cropper }\n        };\n        if (settings.containWithinAspectRatio) {\n            output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\n        }\n        const resizeRatio = this.getResizeRatio(width, height, settings);\n        if (resizeRatio !== 1) {\n            output.width = Math.round(width * resizeRatio);\n            output.height = settings.maintainAspectRatio\n                ? Math.round(output.width / settings.aspectRatio)\n                : Math.round(height * resizeRatio);\n            resizeCanvas(cropCanvas, output.width, output.height);\n        }\n        output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\n        return output;\n    }\n    getCanvasTranslate(sourceImage, loadedImage, settings) {\n        if (settings.transform.translateUnit === 'px') {\n            const ratio = this.getRatio(sourceImage, loadedImage);\n            return {\n                translateH: (settings.transform.translateH || 0) * ratio,\n                translateV: (settings.transform.translateV || 0) * ratio\n            };\n        }\n        else {\n            return {\n                translateH: settings.transform.translateH ? percentage(settings.transform.translateH, loadedImage.transformed.size.width) : 0,\n                translateV: settings.transform.translateV ? percentage(settings.transform.translateV, loadedImage.transformed.size.height) : 0\n            };\n        }\n    }\n    getRatio(sourceImage, loadedImage) {\n        const sourceImageElement = sourceImage.nativeElement;\n        return loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n    }\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\n        const ratio = this.getRatio(sourceImage, loadedImage);\n        const out = {\n            x1: Math.round(cropper.x1 * ratio),\n            y1: Math.round(cropper.y1 * ratio),\n            x2: Math.round(cropper.x2 * ratio),\n            y2: Math.round(cropper.y2 * ratio)\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\n        const sourceImageElement = sourceImage.nativeElement;\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        let offsetX;\n        let offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\n        }\n        else {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\n        }\n        const out = {\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\n            y2: Math.round(cropper.y2 * ratio) - offsetY\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    getResizeRatio(width, height, settings) {\n        const ratioWidth = settings.resizeToWidth / width;\n        const ratioHeight = settings.resizeToHeight / height;\n        const ratios = new Array();\n        if (settings.resizeToWidth > 0) {\n            ratios.push(ratioWidth);\n        }\n        if (settings.resizeToHeight > 0) {\n            ratios.push(ratioHeight);\n        }\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\n        if (result > 1 && !settings.onlyScaleDown) {\n            return result;\n        }\n        return Math.min(result, 1);\n    }\n    getQuality(settings) {\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\n    }\n}\nCropService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, deps: [], target: i0.FactoryTarget.Injectable });\nCropService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass CropperPositionService {\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\n        if (!sourceImage?.nativeElement) {\n            return;\n        }\n        const sourceImageElement = sourceImage.nativeElement;\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\n            cropperPosition.x1 = 0;\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\n            cropperPosition.y1 = 0;\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\n        }\n        else {\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\n            if (!settings.maintainAspectRatio) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n            }\n            else if (sourceImageElement.offsetWidth / settings.aspectRatio < sourceImageElement.offsetHeight) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\n            }\n            else {\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\n            }\n        }\n    }\n    move(event, moveStart, cropperPosition) {\n        const diffX = this.getClientX(event) - moveStart.clientX;\n        const diffY = this.getClientY(event) - moveStart.clientY;\n        cropperPosition.x1 = moveStart.x1 + diffX;\n        cropperPosition.y1 = moveStart.y1 + diffY;\n        cropperPosition.x2 = moveStart.x2 + diffX;\n        cropperPosition.y2 = moveStart.y2 + diffY;\n    }\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\n        const moveX = this.getClientX(event) - moveStart.clientX;\n        const moveY = this.getClientY(event) - moveStart.clientY;\n        switch (moveStart.position) {\n            case 'left':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'top':\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'right':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'center':\n                const scale = event.scale;\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\n                if (cropperPosition.x1 < 0) {\n                    cropperPosition.x2 -= cropperPosition.x1;\n                    cropperPosition.x1 = 0;\n                }\n                else if (cropperPosition.x2 > maxSize.width) {\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\n                    cropperPosition.x2 = maxSize.width;\n                }\n                if (cropperPosition.y1 < 0) {\n                    cropperPosition.y2 -= cropperPosition.y1;\n                    cropperPosition.y1 = 0;\n                }\n                else if (cropperPosition.y2 > maxSize.height) {\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\n                    cropperPosition.y2 = maxSize.height;\n                }\n                break;\n        }\n        if (settings.maintainAspectRatio) {\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\n        }\n    }\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\n        let overflowX = 0;\n        let overflowY = 0;\n        switch (position) {\n            case 'top':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'topright':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'center':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\n                }\n                break;\n        }\n    }\n    getClientX(event) {\n        return event.touches?.[0].clientX || event.clientX || 0;\n    }\n    getClientY(event) {\n        return event.touches?.[0].clientY || event.clientY || 0;\n    }\n}\nCropperPositionService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, deps: [], target: i0.FactoryTarget.Injectable });\nCropperPositionService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90 CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\nfunction supportsAutomaticRotation() {\n    return new Promise((resolve) => {\n        const img = new Image();\n        img.onload = () => {\n            // Check if browser supports automatic image orientation:\n            const supported = img.width === 1 && img.height === 2;\n            resolve(supported);\n        };\n        img.src = testAutoOrientationImageURL;\n    });\n}\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\n    if (typeof exifRotationOrBase64Image === 'string') {\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\n    }\n    switch (exifRotationOrBase64Image) {\n        case 2:\n            return { rotate: 0, flip: true };\n        case 3:\n            return { rotate: 2, flip: false };\n        case 4:\n            return { rotate: 2, flip: true };\n        case 5:\n            return { rotate: 1, flip: true };\n        case 6:\n            return { rotate: 1, flip: false };\n        case 7:\n            return { rotate: 3, flip: true };\n        case 8:\n            return { rotate: 3, flip: false };\n        default:\n            return { rotate: 0, flip: false };\n    }\n}\nfunction getExifRotation(imageBase64) {\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) !== 0xFFD8) {\n        return -2;\n    }\n    const length = view.byteLength;\n    let offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                return -1;\n            }\n            const little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            const tags = view.getUint16(offset, little);\n            offset += 2;\n            for (let i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) !== 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    const binaryString = atob(imageBase64);\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\nclass LoadImageService {\n    constructor() {\n        this.autoRotateSupported = supportsAutomaticRotation();\n    }\n    loadImageFile(file, cropperSettings) {\n        return new Promise((resolve, reject) => {\n            const fileReader = new FileReader();\n            fileReader.onload = (event) => {\n                this.loadImage(event.target.result, file.type, cropperSettings)\n                    .then(resolve)\n                    .catch(reject);\n            };\n            fileReader.readAsDataURL(file);\n        });\n    }\n    loadImage(imageBase64, imageType, cropperSettings) {\n        if (!this.isValidImageType(imageType)) {\n            return Promise.reject(new Error('Invalid image type'));\n        }\n        return this.loadBase64Image(imageBase64, cropperSettings);\n    }\n    isValidImageType(type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(type);\n    }\n    loadImageFromURL(url, cropperSettings) {\n        return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onerror = () => reject;\n            img.onload = () => {\n                const canvas = document.createElement('canvas');\n                const context = canvas.getContext('2d');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                context?.drawImage(img, 0, 0);\n                this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\n            };\n            img.crossOrigin = 'anonymous';\n            img.src = url;\n        });\n    }\n    loadBase64Image(imageBase64, cropperSettings) {\n        return new Promise((resolve, reject) => {\n            const originalImage = new Image();\n            originalImage.onload = () => resolve({\n                originalImage,\n                originalBase64: imageBase64\n            });\n            originalImage.onerror = reject;\n            originalImage.src = imageBase64;\n        }).then((res) => this.transformImageBase64(res, cropperSettings));\n    }\n    async transformImageBase64(res, cropperSettings) {\n        const autoRotate = await this.autoRotateSupported;\n        const exifTransform = await getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\n        if (!res.originalImage || !res.originalImage.complete) {\n            return Promise.reject(new Error('No image loaded'));\n        }\n        const loadedImage = {\n            original: {\n                base64: res.originalBase64,\n                image: res.originalImage,\n                size: {\n                    width: res.originalImage.naturalWidth,\n                    height: res.originalImage.naturalHeight\n                }\n            },\n            exifTransform\n        };\n        return this.transformLoadedImage(loadedImage, cropperSettings);\n    }\n    async transformLoadedImage(loadedImage, cropperSettings) {\n        const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\n        const originalSize = {\n            width: loadedImage.original.image.naturalWidth,\n            height: loadedImage.original.image.naturalHeight\n        };\n        if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\n            return {\n                original: {\n                    base64: loadedImage.original.base64,\n                    image: loadedImage.original.image,\n                    size: { ...originalSize }\n                },\n                transformed: {\n                    base64: loadedImage.original.base64,\n                    image: loadedImage.original.image,\n                    size: { ...originalSize }\n                },\n                exifTransform: loadedImage.exifTransform\n            };\n        }\n        const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\n        const canvas = document.createElement('canvas');\n        canvas.width = transformedSize.width;\n        canvas.height = transformedSize.height;\n        const ctx = canvas.getContext('2d');\n        ctx?.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n        ctx?.rotate(Math.PI * (canvasRotation / 2));\n        ctx?.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\n        const transformedBase64 = canvas.toDataURL();\n        const transformedImage = await this.loadImageFromBase64(transformedBase64);\n        return {\n            original: {\n                base64: loadedImage.original.base64,\n                image: loadedImage.original.image,\n                size: { ...originalSize }\n            },\n            transformed: {\n                base64: transformedBase64,\n                image: transformedImage,\n                size: {\n                    width: transformedImage.width,\n                    height: transformedImage.height\n                }\n            },\n            exifTransform: loadedImage.exifTransform\n        };\n    }\n    loadImageFromBase64(imageBase64) {\n        return new Promise(((resolve, reject) => {\n            const image = new Image();\n            image.onload = () => resolve(image);\n            image.onerror = reject;\n            image.src = imageBase64;\n        }));\n    }\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\n        if (cropperSettings.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.height, minWidthToContain),\n                    height: Math.max(originalSize.width, minHeightToContain)\n                };\n            }\n            else {\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.width, minWidthToContain),\n                    height: Math.max(originalSize.height, minHeightToContain)\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: originalSize.width,\n                width: originalSize.height\n            };\n        }\n        return {\n            width: originalSize.width,\n            height: originalSize.height\n        };\n    }\n}\nLoadImageService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, deps: [], target: i0.FactoryTarget.Injectable });\nLoadImageService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass ImageCropperComponent {\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd) {\n        this.cropService = cropService;\n        this.cropperPositionService = cropperPositionService;\n        this.loadImageService = loadImageService;\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.Hammer = window?.['Hammer'] || null;\n        this.settings = new CropperSettings();\n        this.setImageMaxSizeRetries = 0;\n        this.resizedWhileHidden = false;\n        this.marginLeft = '0px';\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.moveTypes = MoveTypes;\n        this.imageVisible = false;\n        this.format = this.settings.format;\n        this.transform = {};\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\n        this.aspectRatio = this.settings.aspectRatio;\n        this.resetCropOnAspectRatioChange = this.settings.resetCropOnAspectRatioChange;\n        this.resizeToWidth = this.settings.resizeToWidth;\n        this.resizeToHeight = this.settings.resizeToHeight;\n        this.cropperMinWidth = this.settings.cropperMinWidth;\n        this.cropperMinHeight = this.settings.cropperMinHeight;\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\n        this.canvasRotation = this.settings.canvasRotation;\n        this.initialStepSize = this.settings.initialStepSize;\n        this.roundCropper = this.settings.roundCropper;\n        this.onlyScaleDown = this.settings.onlyScaleDown;\n        this.imageQuality = this.settings.imageQuality;\n        this.autoCrop = this.settings.autoCrop;\n        this.backgroundColor = this.settings.backgroundColor;\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\n        this.hideResizeSquares = this.settings.hideResizeSquares;\n        this.allowMoveImage = false;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = this.settings.alignImage;\n        this.disabled = false;\n        this.hidden = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.transformChange = new EventEmitter();\n        this.reset();\n    }\n    ngOnChanges(changes) {\n        this.onChangesUpdateSettings(changes);\n        this.onChangesInputImage(changes);\n        if (this.loadedImage?.original.image.complete && (changes['containWithinAspectRatio'] || changes['canvasRotation'])) {\n            this.loadImageService\n                .transformLoadedImage(this.loadedImage, this.settings)\n                .then((res) => this.setLoadedImage(res))\n                .catch((err) => this.loadImageError(err));\n        }\n        if (changes['cropper'] || changes['maintainAspectRatio'] || changes['aspectRatio']) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            if (this.maintainAspectRatio &&\n                (this.resetCropOnAspectRatioChange || !this.aspectRatioIsCorrect()) &&\n                (changes['maintainAspectRatio'] || changes['aspectRatio'])) {\n                this.resetCropperPosition();\n            }\n            else if (changes['cropper']) {\n                this.checkCropperPosition(false);\n                this.doAutoCrop();\n            }\n            this.cd.markForCheck();\n        }\n        if (changes['transform']) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n            this.cd.markForCheck();\n        }\n        if (changes['hidden'] && this.resizedWhileHidden && !this.hidden) {\n            setTimeout(() => {\n                this.onResize();\n                this.resizedWhileHidden = false;\n            });\n        }\n    }\n    onChangesUpdateSettings(changes) {\n        this.settings.setOptionsFromChanges(changes);\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\n            this.settings.setOptions({\n                hideResizeSquares: true,\n                cropperMinWidth: this.settings.cropperStaticWidth,\n                cropperMinHeight: this.settings.cropperStaticHeight,\n                cropperMaxHeight: this.settings.cropperStaticHeight,\n                cropperMaxWidth: this.settings.cropperStaticWidth,\n                maintainAspectRatio: false\n            });\n        }\n    }\n    onChangesInputImage(changes) {\n        if (changes['imageChangedEvent'] || changes['imageURL'] || changes['imageBase64'] || changes['imageFile']) {\n            this.reset();\n        }\n        if (changes['imageChangedEvent'] && this.isValidImageChangedEvent()) {\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\n        }\n        if (changes['imageURL'] && this.imageURL) {\n            this.loadImageFromURL(this.imageURL);\n        }\n        if (changes['imageBase64'] && this.imageBase64) {\n            this.loadBase64Image(this.imageBase64);\n        }\n        if (changes['imageFile'] && this.imageFile) {\n            this.loadImageFile(this.imageFile);\n        }\n    }\n    isValidImageChangedEvent() {\n        return this.imageChangedEvent?.target?.files?.length > 0;\n    }\n    setCssTransform() {\n        const translateUnit = this.transform?.translateUnit || '%';\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH || 0}${translateUnit}, ${this.transform.translateV || 0}${translateUnit})` +\n            ' scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            ' scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            ' rotate(' + (this.transform.rotate || 0) + 'deg)');\n    }\n    ngOnInit() {\n        this.settings.stepSize = this.initialStepSize;\n        this.activatePinchGesture();\n    }\n    reset() {\n        this.imageVisible = false;\n        this.loadedImage = undefined;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n    loadImageFile(file) {\n        this.loadImageService\n            .loadImageFile(file, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    loadBase64Image(imageBase64) {\n        this.loadImageService\n            .loadBase64Image(imageBase64, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    loadImageFromURL(url) {\n        this.loadImageService\n            .loadImageFromURL(url, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    setLoadedImage(loadedImage) {\n        this.loadedImage = loadedImage;\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\n        this.cd.markForCheck();\n    }\n    loadImageError(error) {\n        console.error(error);\n        this.loadImageFailed.emit();\n    }\n    imageLoadedInView() {\n        if (this.loadedImage != null) {\n            this.imageLoaded.emit(this.loadedImage);\n            this.setImageMaxSizeRetries = 0;\n            setTimeout(() => this.checkImageMaxSizeRecursively());\n        }\n    }\n    checkImageMaxSizeRecursively() {\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImageLoaded()) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit({ ...this.maxSize });\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\n        }\n    }\n    sourceImageLoaded() {\n        return this.sourceImage?.nativeElement?.offsetWidth > 0;\n    }\n    onResize() {\n        if (!this.loadedImage) {\n            return;\n        }\n        if (this.hidden) {\n            this.resizedWhileHidden = true;\n        }\n        else {\n            this.resizeCropperPosition();\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n        }\n    }\n    activatePinchGesture() {\n        if (this.Hammer) {\n            const hammer = new this.Hammer(this.wrapper.nativeElement);\n            hammer.get('pinch').set({ enable: true });\n            hammer.on('pinchmove', this.onPinch.bind(this));\n            hammer.on('pinchend', this.pinchStop.bind(this));\n            hammer.on('pinchstart', this.startPinch.bind(this));\n        }\n        else if (isDevMode()) {\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\n        }\n    }\n    resizeCropperPosition() {\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    }\n    resetCropperPosition() {\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\n        this.doAutoCrop();\n        this.imageVisible = true;\n    }\n    keyboardAccess(event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    }\n    changeKeyboardStepSize(event) {\n        const key = +event.key;\n        if (key >= 1 && key <= 9) {\n            this.settings.stepSize = key;\n        }\n    }\n    keyboardMoveCropper(event) {\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    }\n    startMove(event, moveType, position = null) {\n        if (this.disabled\n            || this.moveStart?.active && this.moveStart?.type === MoveTypes.Pinch\n            || moveType === MoveTypes.Drag && !this.allowMoveImage) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = {\n            active: true,\n            type: moveType,\n            position,\n            transform: { ...this.transform },\n            clientX: this.cropperPositionService.getClientX(event),\n            clientY: this.cropperPositionService.getClientY(event),\n            ...this.cropper\n        };\n    }\n    startPinch(event) {\n        if (!this.safeImgDataUrl) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = {\n            active: true,\n            type: MoveTypes.Pinch,\n            position: 'center',\n            clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2,\n            clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2,\n            ...this.cropper\n        };\n    }\n    moveImg(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Move) {\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === MoveTypes.Resize) {\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                }\n                this.checkCropperPosition(false);\n            }\n            else if (this.moveStart.type === MoveTypes.Drag) {\n                const diffX = this.cropperPositionService.getClientX(event) - this.moveStart.clientX;\n                const diffY = this.cropperPositionService.getClientY(event) - this.moveStart.clientY;\n                this.transform = {\n                    ...this.transform,\n                    translateH: (this.moveStart.transform?.translateH || 0) + diffX,\n                    translateV: (this.moveStart.transform?.translateV || 0) + diffY\n                };\n                this.setCssTransform();\n            }\n            this.cd.detectChanges();\n        }\n    }\n    onPinch(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Pinch) {\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    setMaxSize() {\n        if (this.sourceImage) {\n            const sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    }\n    setCropperScaledMinSize() {\n        if (this.loadedImage?.transformed?.image) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.settings.cropperScaledMinWidth = 20;\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    setCropperScaledMinWidth() {\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\n            : 20;\n    }\n    setCropperScaledMinHeight() {\n        if (this.maintainAspectRatio) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\n        }\n        else {\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    setCropperScaledMaxSize() {\n        if (this.loadedImage?.transformed?.image) {\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\n            if (this.maintainAspectRatio) {\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\n                }\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\n                }\n            }\n        }\n        else {\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\n        }\n    }\n    checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n    moveStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            if (this.moveStart?.type === MoveTypes.Drag) {\n                this.transformChange.emit(this.transform);\n            }\n            else {\n                this.doAutoCrop();\n            }\n        }\n    }\n    pinchStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    doAutoCrop() {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    }\n    crop() {\n        if (this.loadedImage?.transformed?.image != null) {\n            this.startCropImage.emit();\n            const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\n            if (output != null) {\n                this.imageCropped.emit(output);\n            }\n            return output;\n        }\n        return null;\n    }\n    aspectRatioIsCorrect() {\n        const currentCropAspectRatio = (this.cropper.x2 - this.cropper.x1) / (this.cropper.y2 - this.cropper.y1);\n        return currentCropAspectRatio === this.aspectRatio;\n    }\n}\nImageCropperComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperComponent, deps: [{ token: CropService }, { token: CropperPositionService }, { token: LoadImageService }, { token: i4.DomSanitizer }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Component });\nImageCropperComponent.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.11\", type: ImageCropperComponent, selector: \"image-cropper\", inputs: { imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\", imageAltText: \"imageAltText\", format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resetCropOnAspectRatioChange: \"resetCropOnAspectRatioChange\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", allowMoveImage: \"allowMoveImage\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\", hidden: \"hidden\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\", transformChange: \"transformChange\" }, host: { listeners: { \"window:resize\": \"onResize()\", \"document:mousemove\": \"moveImg($event)\", \"document:touchmove\": \"moveImg($event)\", \"document:mouseup\": \"moveStop()\", \"document:touchend\": \"moveStop()\" }, properties: { \"style.text-align\": \"this.alignImage\", \"class.disabled\": \"this.disabled\", \"class.ngx-ix-hidden\": \"this.hidden\" } }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }, { propertyName: \"sourceImage\", first: true, predicate: [\"sourceImage\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<div\\n  [style.background]=\\\"imageVisible && backgroundColor\\\"\\n  #wrapper\\n>\\n  <img\\n    #sourceImage\\n    class=\\\"ngx-ic-source-image\\\"\\n    *ngIf=\\\"safeImgDataUrl\\\"\\n    [src]=\\\"safeImgDataUrl\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    [style.transform]=\\\"safeTransformStyle\\\"\\n    [class.ngx-ic-draggable]=\\\"!disabled && allowMoveImage\\\"\\n    [attr.alt]=\\\"imageAltText\\\"\\n    (load)=\\\"imageLoadedInView()\\\"\\n    (mousedown)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (touchstart)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (error)=\\\"loadImageError($event)\\\"\\n  >\\n  <div\\n    class=\\\"ngx-ic-overlay\\\"\\n    [style.width.px]=\\\"maxSize.width\\\"\\n    [style.height.px]=\\\"maxSize.height\\\"\\n    [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n  ></div>\\n  <div class=\\\"ngx-ic-cropper\\\"\\n       *ngIf=\\\"imageVisible\\\"\\n       [class.ngx-ic-round]=\\\"roundCropper\\\"\\n       [style.top.px]=\\\"cropper.y1\\\"\\n       [style.left.px]=\\\"cropper.x1\\\"\\n       [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n       [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n       [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n       [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n       (keydown)=\\\"keyboardAccess($event)\\\"\\n       tabindex=\\\"0\\\"\\n  >\\n    <div\\n      (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n      (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n      class=\\\"ngx-ic-move\\\">\\n    </div>\\n    <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n    </ng-container>\\n  </div>\\n</div>\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.ngx-ic-source-image{max-width:100%;max-height:100%;transform-origin:center}:host>div img.ngx-ic-source-image.ngx-ic-draggable{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}:host .ngx-ic-overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .ngx-ic-cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{top:-12px;right:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar,:host.disabled .ngx-ic-cropper .ngx-ic-move{display:none}:host.ngx-ix-hidden{display:none}\\n\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'image-cropper', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div\\n  [style.background]=\\\"imageVisible && backgroundColor\\\"\\n  #wrapper\\n>\\n  <img\\n    #sourceImage\\n    class=\\\"ngx-ic-source-image\\\"\\n    *ngIf=\\\"safeImgDataUrl\\\"\\n    [src]=\\\"safeImgDataUrl\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    [style.transform]=\\\"safeTransformStyle\\\"\\n    [class.ngx-ic-draggable]=\\\"!disabled && allowMoveImage\\\"\\n    [attr.alt]=\\\"imageAltText\\\"\\n    (load)=\\\"imageLoadedInView()\\\"\\n    (mousedown)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (touchstart)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (error)=\\\"loadImageError($event)\\\"\\n  >\\n  <div\\n    class=\\\"ngx-ic-overlay\\\"\\n    [style.width.px]=\\\"maxSize.width\\\"\\n    [style.height.px]=\\\"maxSize.height\\\"\\n    [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n  ></div>\\n  <div class=\\\"ngx-ic-cropper\\\"\\n       *ngIf=\\\"imageVisible\\\"\\n       [class.ngx-ic-round]=\\\"roundCropper\\\"\\n       [style.top.px]=\\\"cropper.y1\\\"\\n       [style.left.px]=\\\"cropper.x1\\\"\\n       [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n       [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n       [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n       [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n       (keydown)=\\\"keyboardAccess($event)\\\"\\n       tabindex=\\\"0\\\"\\n  >\\n    <div\\n      (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n      (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n      class=\\\"ngx-ic-move\\\">\\n    </div>\\n    <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n    </ng-container>\\n  </div>\\n</div>\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.ngx-ic-source-image{max-width:100%;max-height:100%;transform-origin:center}:host>div img.ngx-ic-source-image.ngx-ic-draggable{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}:host .ngx-ic-overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .ngx-ic-cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{top:-12px;right:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar,:host.disabled .ngx-ic-cropper .ngx-ic-move{display:none}:host.ngx-ix-hidden{display:none}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: i4.DomSanitizer }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { wrapper: [{\n                type: ViewChild,\n                args: ['wrapper', { static: true }]\n            }], sourceImage: [{\n                type: ViewChild,\n                args: ['sourceImage', { static: false }]\n            }], imageChangedEvent: [{\n                type: Input\n            }], imageURL: [{\n                type: Input\n            }], imageBase64: [{\n                type: Input\n            }], imageFile: [{\n                type: Input\n            }], imageAltText: [{\n                type: Input\n            }], format: [{\n                type: Input\n            }], transform: [{\n                type: Input\n            }], maintainAspectRatio: [{\n                type: Input\n            }], aspectRatio: [{\n                type: Input\n            }], resetCropOnAspectRatioChange: [{\n                type: Input\n            }], resizeToWidth: [{\n                type: Input\n            }], resizeToHeight: [{\n                type: Input\n            }], cropperMinWidth: [{\n                type: Input\n            }], cropperMinHeight: [{\n                type: Input\n            }], cropperMaxHeight: [{\n                type: Input\n            }], cropperMaxWidth: [{\n                type: Input\n            }], cropperStaticWidth: [{\n                type: Input\n            }], cropperStaticHeight: [{\n                type: Input\n            }], canvasRotation: [{\n                type: Input\n            }], initialStepSize: [{\n                type: Input\n            }], roundCropper: [{\n                type: Input\n            }], onlyScaleDown: [{\n                type: Input\n            }], imageQuality: [{\n                type: Input\n            }], autoCrop: [{\n                type: Input\n            }], backgroundColor: [{\n                type: Input\n            }], containWithinAspectRatio: [{\n                type: Input\n            }], hideResizeSquares: [{\n                type: Input\n            }], allowMoveImage: [{\n                type: Input\n            }], cropper: [{\n                type: Input\n            }], alignImage: [{\n                type: HostBinding,\n                args: ['style.text-align']\n            }, {\n                type: Input\n            }], disabled: [{\n                type: HostBinding,\n                args: ['class.disabled']\n            }, {\n                type: Input\n            }], hidden: [{\n                type: HostBinding,\n                args: ['class.ngx-ix-hidden']\n            }, {\n                type: Input\n            }], imageCropped: [{\n                type: Output\n            }], startCropImage: [{\n                type: Output\n            }], imageLoaded: [{\n                type: Output\n            }], cropperReady: [{\n                type: Output\n            }], loadImageFailed: [{\n                type: Output\n            }], transformChange: [{\n                type: Output\n            }], onResize: [{\n                type: HostListener,\n                args: ['window:resize']\n            }], moveImg: [{\n                type: HostListener,\n                args: ['document:mousemove', ['$event']]\n            }, {\n                type: HostListener,\n                args: ['document:touchmove', ['$event']]\n            }], moveStop: [{\n                type: HostListener,\n                args: ['document:mouseup']\n            }, {\n                type: HostListener,\n                args: ['document:touchend']\n            }] } });\n\nclass ImageCropperModule {\n}\nImageCropperModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, deps: [], target: i0.FactoryTarget.NgModule });\nImageCropperModule.mod = i0.ngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, declarations: [ImageCropperComponent], imports: [CommonModule], exports: [ImageCropperComponent] });\nImageCropperModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, imports: [[\n            CommonModule\n        ]] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        ImageCropperComponent,\n                    ],\n                    exports: [\n                        ImageCropperComponent\n                    ]\n                }]\n        }] });\n\nfunction base64ToFile(base64Image) {\n    const split = base64Image.split(',');\n    const type = split[0].replace('data:', '').replace(';base64', '');\n    const byteString = atob(split[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type });\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CropService, CropperSettings, ImageCropperComponent, ImageCropperModule, LoadImageService, base64ToFile, resizeCanvas };\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["i0","Injectable","DOC_ORIENTATION","_a","ImageCompress","getOrientation","file","Promise","resolve","reject","reader","FileReader","onload","view","DataView","result","byteLength","NotDefined","getUint16","length","offset","marker","getUint32","NotJpeg","little","tags","i","readAsArrayBuffer","e","Default","uploadFile","render","multiple","rejectOnCancel","isSafari","test","navigator","userAgent","isIOS","then","onlyNative","generateUploadInputNative","window","document","generateUploadInputRenderer","filesList","files","Array","from","orientationPromises","map","readerPromises","fileToDataURL","orientationsResult","all","orientations","readerResult","resultArray","parsedFile","index","image","dataUrl","orientation","fileName","catch","err","target","name","readAsDataURL","lock","inputElement","createElement","setStyle","setProperty","listen","$event","value","addEventListener","setTimeout","Error","once","click","documentNativeApi","id","Date","style","display","setAttribute","body","appendChild","removeChild","getElementById","compress","imageDataUrlSource","ratio","quality","maxwidth","maxheight","sourceImage","Image","canvas","ctx","getContext","w","naturalWidth","h","naturalHeight","CSS","supports","Right","Left","t","xratio","yratio","Math","min","width","height","TO_RADIANS","PI","Up","drawImage","save","rotate","translate","restore","Down","mime","substr","split","toDataURL","onerror","src","byteCount","imgString","encodeURI","getImageMaxSize","_ref","_asyncToGenerator","maxSizeMb","debugMode","MAX_TRIES","bytesToMB","bytes","toFixed","console","debug","myFile","compressedFile","previousSize","newSize","_x","_x2","_x3","apply","arguments","NgxImageCompressService","constructor","rendererFactory","createRenderer","uploadMultipleFiles","uploadFileOrReject","uploadMultipleFilesOrReject","compressFile","maxWidth","maxHeight","uploadAndGetImageWithMaxSize","uploadResponse","uploadAndGetImageWithMaxSizeAndMetas","fac","NgxImageCompressService_Factory","inject","RendererFactory2","prov","defineInjectable","token","factory","providedIn","ngDevMode","setClassMetadata","type","args","EventEmitter","isDevMode","Component","ChangeDetectionStrategy","ViewChild","Input","HostBinding","Output","HostListener","NgModule","i4","i5","CommonModule","_c0","_c1","ImageCropperComponent_img_2_Template","rf","_r5","getCurrentView","elementStart","listener","ImageCropperComponent_img_2_Template_img_load_0_listener","restoreView","ctx_r4","nextContext","resetView","imageLoadedInView","ImageCropperComponent_img_2_Template_img_mousedown_0_listener","ctx_r6","startMove","moveTypes","Drag","ImageCropperComponent_img_2_Template_img_touchstart_0_listener","ctx_r7","ImageCropperComponent_img_2_Template_img_error_0_listener","ctx_r8","loadImageError","elementEnd","ctx_r1","styleProp","imageVisible","safeTransformStyle","classProp","disabled","allowMoveImage","property","safeImgDataUrl","sanitizeUrl","attribute","imageAltText","ImageCropperComponent_div_4_ng_container_2_Template","_r11","elementContainerStart","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_1_listener","ctx_r10","Resize","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_1_listener","ctx_r12","element","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_5_listener","ctx_r13","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_5_listener","ctx_r14","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_9_listener","ctx_r15","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_9_listener","ctx_r16","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_13_listener","ctx_r17","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_13_listener","ctx_r18","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_17_listener","ctx_r19","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_17_listener","ctx_r20","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_18_listener","ctx_r21","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_18_listener","ctx_r22","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_19_listener","ctx_r23","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_19_listener","ctx_r24","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_20_listener","ctx_r25","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_20_listener","ctx_r26","elementContainerEnd","ImageCropperComponent_div_4_Template","_r28","ImageCropperComponent_div_4_Template_div_keydown_0_listener","ctx_r27","keyboardAccess","ImageCropperComponent_div_4_Template_div_mousedown_1_listener","ctx_r29","Move","ImageCropperComponent_div_4_Template_div_touchstart_1_listener","ctx_r30","template","ctx_r2","cropper","y1","x1","x2","y2","alignImage","marginLeft","roundCropper","advance","hideResizeSquares","CropperSettings","format","maintainAspectRatio","transform","aspectRatio","resetCropOnAspectRatioChange","resizeToWidth","resizeToHeight","cropperMinWidth","cropperMinHeight","cropperMaxHeight","cropperMaxWidth","cropperStaticWidth","cropperStaticHeight","canvasRotation","initialStepSize","onlyScaleDown","imageQuality","autoCrop","backgroundColor","containWithinAspectRatio","cropperScaledMinWidth","cropperScaledMinHeight","cropperScaledMaxWidth","cropperScaledMaxHeight","stepSize","setOptions","options","Object","keys","filter","k","forEach","validateOptions","setOptionsFromChanges","changes","currentValue","MoveTypes","getPositionForKey","key","getInvertedPositionForKey","getEventForKey","clientX","clientY","resizeCanvas","width_source","height_source","round","ratio_w","ratio_h","ratio_w_half","ceil","ratio_h_half","img","getImageData","img2","createImageData","data","data2","j","center_y","weight","weights","weights_alpha","gx_r","gx_g","gx_b","gx_a","xx_start","floor","yy_start","xx_stop","yy_stop","yy","dy","abs","center_x","w0","xx","dx","sqrt","pos_x","putImageData","percentage","percent","totalValue","CropService","crop","loadedImage","settings","imagePosition","getImagePosition","cropCanvas","fillStyle","fillRect","scaleX","scale","flipH","scaleY","flipV","translateH","translateV","getCanvasTranslate","transformedImage","transformed","setTransform","size","output","cropperPosition","offsetImagePosition","getOffsetImagePosition","resizeRatio","getResizeRatio","base64","getQuality","translateUnit","getRatio","sourceImageElement","nativeElement","offsetWidth","out","max","exifTransform","offsetX","offsetY","original","ratioWidth","ratioHeight","ratios","push","CropService_Factory","CropperPositionService","resetCropperPosition","offsetHeight","cropperWidth","cropperHeight","cropperHeightWithAspectRatio","cropperWidthWithAspectRatio","move","event","moveStart","diffX","getClientX","diffY","getClientY","resize","maxSize","moveX","moveY","position","newWidth","newHeight","checkAspectRatio","overflowX","overflowY","overflowX1","overflowX2","overflowY1","overflowY2","touches","CropperPositionService_Factory","testAutoOrientationImageURL","supportsAutomaticRotation","supported","getTransformationsFromExifData","exifRotationOrBase64Image","getExifRotation","flip","imageBase64","base64ToArrayBuffer","replace","binaryString","atob","len","Uint8Array","charCodeAt","buffer","LoadImageService","autoRotateSupported","loadImageFile","cropperSettings","fileReader","loadImage","imageType","isValidImageType","loadBase64Image","loadImageFromURL","url","context","crossOrigin","originalImage","originalBase64","res","transformImageBase64","_this","autoRotate","complete","transformLoadedImage","_this2","originalSize","transformedSize","getTransformedSize","transformedBase64","loadImageFromBase64","minWidthToContain","minHeightToContain","LoadImageService_Factory","ImageCropperComponent","cropService","cropperPositionService","loadImageService","sanitizer","cd","Hammer","setImageMaxSizeRetries","resizedWhileHidden","hidden","imageCropped","startCropImage","imageLoaded","cropperReady","loadImageFailed","transformChange","reset","ngOnChanges","onChangesUpdateSettings","onChangesInputImage","setLoadedImage","setMaxSize","setCropperScaledMinSize","setCropperScaledMaxSize","aspectRatioIsCorrect","checkCropperPosition","doAutoCrop","markForCheck","setCssTransform","onResize","isValidImageChangedEvent","imageChangedEvent","imageURL","imageFile","bypassSecurityTrustStyle","ngOnInit","activatePinchGesture","undefined","active","bypassSecurityTrustResourceUrl","error","emit","checkImageMaxSizeRecursively","sourceImageLoaded","resizeCropperPosition","hammer","wrapper","get","set","enable","on","onPinch","bind","pinchStop","startPinch","warn","changeKeyboardStepSize","keyboardMoveCropper","keyboardWhiteList","includes","moveType","shiftKey","altKey","moveEvent","preventDefault","stopPropagation","moveImg","moveStop","Pinch","detectChanges","setCropperScaledMinWidth","setCropperScaledMinHeight","maintainSize","currentCropAspectRatio","ImageCropperComponent_Factory","directiveInject","DomSanitizer","ChangeDetectorRef","cmp","defineComponent","selectors","viewQuery","ImageCropperComponent_Query","viewQuery","_t","queryRefresh","loadQuery","first","hostVars","hostBindings","ImageCropperComponent_HostBindings","ImageCropperComponent_resize_HostBindingHandler","resolveWindow","ImageCropperComponent_mousemove_HostBindingHandler","resolveDocument","ImageCropperComponent_touchmove_HostBindingHandler","ImageCropperComponent_mouseup_HostBindingHandler","ImageCropperComponent_touchend_HostBindingHandler","inputs","outputs","features","NgOnChangesFeature","decls","vars","consts","template","ImageCropperComponent_Template","dependencies","NgIf","styles","changeDetection","selector","OnPush","static","ImageCropperModule","ImageCropperModule_Factory","mod","defineNgModule","inj","defineInjector","imports","declarations","exports","base64ToFile","base64Image","byteString","ab","ArrayBuffer","ia","Blob"],"sourceRoot":"webpack:///","x_google_ignoreList":[6,7,8]}