<div class="container mt-4">

    <div class="text-right mb-4">
        <button *ngIf="!isClub" class="btn solid login" (click)="createNewAdDraft()"
            style="font-size: 15px">{{language.createNewAdDraft}}</button>
        <button *ngIf="isClub" class="btn solid login" (click)="createNewEventDraft()"
            style="font-size: 15px">{{language.createNewEventDraft}}</button>
    </div>
    <div class="outer" *ngIf="!listOfDrafts || listOfDrafts.length == 0">
        <div class="middle">
            <div class="inner">
                <img style="width: 310px;" src="../../../assets/images/no-data-for-user.png">
                <h4>{{language.noHaveAdYet}}</h4>
                <h5>{{language.createNewOneAd}}</h5>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="listOfDrafts">
        <div *ngFor="let item of listOfDrafts" class="col-md-4">
            <app-ad-card [data]="item" [edit]="true" (clickEmitter)="clickEmitter($event)"></app-ad-card>
        </div>
    </div>

    <ejs-dialog id='dialog' #dialog showCloseIcon='true' (beforeOpen)="onBeforeOpen($event)" showOnInit="true"
        [visible]="false" [isModal]="true" [position]="dialogPosition" width="300px">
        <ng-template #content>
            <div class="row">

                <div class="col-md-12">
                    <label class="custom-label">{{language.nameOfCompany}}</label>
                    <ejs-textbox cssClass="e-outline" [id]="data.name" [(ngModel)]="data.name"
                        name="name"></ejs-textbox>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.address}}</label>
                    <ejs-textbox cssClass="e-outline" [id]="data.address" [(ngModel)]="data.address"
                        name="address"></ejs-textbox>
                </div>

                <div class="col-md-12 row m-0 p-0">

                    <div class="col-md-6">
                        <label class="custom-label">{{language.phone}}</label>
                        <ejs-textbox cssClass="e-outline" [id]="data.phone" [(ngModel)]="data.phone"
                            name="phone"></ejs-textbox>
                    </div>

                    <div class="col-md-6">
                        <label class="custom-label">{{language.email}}</label>
                        <ejs-textbox cssClass="e-outline" [id]="data.email" [(ngModel)]="data.email"
                            name="email"></ejs-textbox>
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.description}}</label>
                    <ejs-textbox multiline="true" cssClass="e-outline" [id]="data.description"
                        [(ngModel)]="data.description" name="description"></ejs-textbox>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.uploadCoverImage}}</label>
                    <ejs-uploader #defaultupload [asyncSettings]="asyncAdsSettings" [autoUpload]="false"
                        (uploading)="onUploadBegin($event)" (change)="changesFile($event)"
                        (removing)="clearingFile($event)" (clearing)="clearingFile($event)"
                        [buttons]="{upload: language.uploadCoverImageButton}"></ejs-uploader>
                </div>
                <div *ngIf="editButton" class="col-md-12 text-right mt-4">
                    <button class="btn" (click)="editAd()">{{language.editAd}}</button>
                </div>
            </div>
        </ng-template>
    </ejs-dialog>

    <ejs-dialog id='dialogEvent' #dialogEvent showCloseIcon='true' (beforeOpen)="onBeforeOpen($event)" showOnInit="true"
        [visible]="false" [isModal]="true" [position]="dialogPosition" width="300px">
        <ng-template #content>
            <div class="row">

                <div class="col-md-12">
                    <label class="custom-label">{{language.nameOfEvent}}</label>
                    <ejs-textbox cssClass="e-outline" [id]="event.name" [(ngModel)]="event.name"
                        name="name"></ejs-textbox>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.address}}</label>
                    <ejs-textbox cssClass="e-outline" [id]="event.address" [(ngModel)]="event.address"
                        name="address"></ejs-textbox>
                </div>

                <div class="col-md-12">
                    <label class="custom-label">{{language.dateAndTime}}</label>
                    <ejs-datetimepicker cssClass="e-outline" [id]="event.datetime" [(ngModel)]="event.datetime"
                    name="datetime"></ejs-datetimepicker>
                </div>

                <div class="col-md-12 row m-0 p-0">

                    <div class="col-md-6">
                        <label class="custom-label">{{language.phone}}({{language.optional}})</label>
                        <ejs-textbox cssClass="e-outline" [id]="event.phone" [(ngModel)]="event.phone"
                            name="phone"></ejs-textbox>
                    </div>

                    <div class="col-md-6">
                        <label class="custom-label">{{language.email}}({{language.optional}})</label>
                        <ejs-textbox cssClass="e-outline" [id]="event.email" [(ngModel)]="event.email"
                            name="email"></ejs-textbox>
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.description}}</label>
                    <ejs-textbox multiline="true" cssClass="e-outline" [id]="event.description"
                        [(ngModel)]="event.description" name="description"></ejs-textbox>
                </div>
                <div class="col-md-12">
                    <label class="custom-label">{{language.uploadCoverImage}}</label>
                    <ejs-uploader #defaultupload [asyncSettings]="asyncEventsSettings" [autoUpload]="false"
                        (uploading)="onUploadBeginEvents($event)" (change)="changesFile($event)"
                        (removing)="clearingFile($event)" (clearing)="clearingFile($event)"
                        [buttons]="{upload: language.uploadCoverImageButton}"></ejs-uploader>
                </div>
                <div *ngIf="editButton" class="col-md-12 text-right mt-4">
                    <button class="btn" (click)="editAd()">{{language.editAd}}</button>
                </div>
            </div>
        </ng-template>
    </ejs-dialog>
</div>